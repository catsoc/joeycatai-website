@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html      { background-color: white; }
  html.dark { background-color: rgb(15 23 42); }

  body {
    @apply antialiased min-h-screen flex flex-col bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100;
    font-family: 'Inter', system-ui, sans-serif;
  }

  ::selection       { @apply bg-accent-200 text-accent-900; }
  .dark ::selection { @apply bg-accent-800 text-accent-100; }

  /* Shiki dual-theme: activate dark colours with .dark class */
  .dark .astro-code,
  .dark .astro-code span {
    color:            var(--shiki-dark) !important;
    background-color: var(--shiki-dark-bg) !important;
    font-style:       var(--shiki-dark-font-style) !important;
    font-weight:      var(--shiki-dark-font-weight) !important;
    text-decoration:  var(--shiki-dark-text-decoration) !important;
  }
}

@layer components {
  .container-base { @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8; }

  .prose-custom {
    @apply prose prose-slate dark:prose-invert max-w-none
           prose-headings:font-semibold
           prose-a:text-accent-600 dark:prose-a:text-accent-400
           prose-code:text-accent-700 dark:prose-code:text-accent-300;
  }

  .btn {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium
           transition-colors duration-200 focus-visible:outline-none
           focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  .btn-primary { @apply btn bg-accent-600 text-white hover:bg-accent-700 focus-visible:ring-accent-500; }

  .btn-secondary {
    @apply btn border border-slate-300 dark:border-slate-600
           text-slate-700 dark:text-slate-300
           hover:bg-slate-100 dark:hover:bg-slate-800
           focus-visible:ring-slate-500;
  }

  .card {
    @apply rounded-xl border border-slate-200 dark:border-slate-700
           bg-white dark:bg-slate-800/50 p-6
           transition-shadow duration-200 hover:shadow-md;
  }

  .tag {
    @apply inline-block px-2.5 py-0.5 rounded-full text-xs font-medium
           bg-accent-100 dark:bg-accent-900/40 text-accent-700 dark:text-accent-300;
  }
}

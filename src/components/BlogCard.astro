---
import FormattedDate from './FormattedDate.astro';

export interface Props {
  title: string;
  description: string;
  pubDate: Date;
  slug: string;
  tags?: string[];
  heroImage?: string;
}

const { title, description, pubDate, slug, tags = [], heroImage } = Astro.props;
---

<a
  href={`/blog/${slug}`}
  class="card group flex flex-col gap-4 hover:border-accent-300 dark:hover:border-accent-700 transition-all duration-200"
>
  {heroImage && (
    <img
      src={heroImage}
      alt={title}
      class="w-full aspect-video object-cover rounded-lg"
      loading="lazy"
    />
  )}
  <div class="flex flex-col gap-2 flex-1">
    <div class="flex flex-wrap gap-1.5">
      {tags.slice(0, 3).map((tag) => <span class="tag">{tag}</span>)}
    </div>
    <h2 class="text-lg font-semibold text-slate-900 dark:text-slate-100 group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors line-clamp-2">
      {title}
    </h2>
    <p class="text-sm text-slate-600 dark:text-slate-400 line-clamp-2 flex-1">
      {description}
    </p>
    <div class="text-xs text-slate-400 dark:text-slate-500 mt-auto pt-2">
      <FormattedDate date={pubDate} />
    </div>
  </div>
</a>
